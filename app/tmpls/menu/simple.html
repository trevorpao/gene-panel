<nav class="level">
  <div class="level-left">
    <nav class="breadcrumb">
      <ul>
        <li> <a>網站管理</a> </li>
        <li class="is-active"> <a>Menu</a> </li>
      </ul>
    </nav>
  </div>
  <div class="level-right">
    <p class="level-item">
      <a class="button is-primary gee" data-gene="click:loadRow" data-tmpl="menuForm" data-id="0">New</a>
    </p>
  </div>
</nav>
<div class="columns">
  <div class="column">
    <div id="menu-tree-container" class="">
      <ul id='js-menu-tree' class="gee sortable" data-gene="init:menu.initial,click:reactList" data-tmpl="menuItemList" data-parent="0"></ul>
    </div>
    <div class="list-footer"></div>
  </div>
  <!-- side panel -->
  <div class="column is-4">
    <div class="box">
      <form class="gee" data-gene="init:initForm" data-tmpl="menuForm" id="menuForm">
        <div class="tabs-content">
          <div class="tab-box" title="基本資訊">
            <div class="field">
              <label class="label">父選單</label>
              <p class="control">
                <span class="select"><gee:set-option module="menu" name="parent_id" force="1" tmpl="menuOptTmpl"></gee:set-option></span>
              </p>
            </div>
            <div class="field">
              <label class="label">選單網址</label>
              <p class="control">
                <input class="input" name="uri" type="text" placeholder="URI">
              </p>
            </div>
            <div class="field">
              <label class="label">排序</label>
              <p class="control">
                <input class="input" name="sorter" type="text" placeholder="預設值：0">
              </p>
            </div>
            <div class="field">
              <label class="label">呈現樣式</label>
              <input type="radio" class="is-checkradio" name="theme" value="Basic" checked="checked" id="tag-theme-basic">
              <label class="radio" for="tag-theme-basic">單欄</label>
              <input type="radio" class="is-checkradio" name="theme" value="Mixed" id="tag-theme-mixed">
              <label class="radio" for="tag-theme-mixed">圖文混合</label>
            </div>
            <div class="field">
              <label class="label">標記顏色</label>
              <input type="radio" class="is-checkradio" name="color" value="primary" id="tag-badge-primary">
              <label class="radio" for="tag-badge-primary" style="color: #8DCCDF "> ▉ </label>
              <input type="radio" class="is-checkradio" name="color" value="success" id="tag-badge-success">
              <label class="radio" for="tag-badge-success" style="color: #8cc4a2"> ▉ </label>
              <input type="radio" class="is-checkradio" name="color" value="sencondary" id="tag-badge-sencondary">
              <label class="radio" for="tag-badge-sencondary" style="color: #e39887"> ▉ </label>
              <input type="radio" class="is-checkradio" name="color" value="danger" id="tag-badge-danger">
              <label class="radio" for="tag-badge-danger" style="color: #d89098"> ▉ </label>
              <input type="radio" class="is-checkradio" name="color" value="info" checked="checked" id="tag-badge-info">
              <label class="radio" for="tag-badge-info" style="color: #8a8eb8"> ▉ </label>
            </div>
            <div class="field">
              <label class="label">狀態</label>
              <input type="radio" class="is-checkradio" name="status" value="Enabled" id="tag-status-enabled">
              <label class="radio" for="tag-status-enabled">啟用</label>
              <input type="radio" class="is-checkradio" name="status" value="Disabled" checked="checked" id="tag-status-disabled">
              <label class="radio" for="tag-status-disabled">停用</label>
            </div>
          </div>
          <div class="tab-box" title="中文">
            <div class="field">
              <label class="label">選單標題</label>
              <p class="control">
                <input class="input" name="lang[tw][title]" type="text" placeholder="title">
              </p>
            </div>
            <div class="field">
              <label class="label">標記文字</label>
              <p class="control">
                <input class="input" name="lang[tw][badge]" type="text" placeholder="e.g. 熱門">
                <!-- badge -->
              </p>
            </div>
            <div class="field">
              <label class="label">選單簡介</label>
              <p class="control">
                <textarea class="textarea" placeholder="Summary" name="lang[tw][summary]"></textarea>
              </p>
            </div>
          </div>
          <div class="tab-box" title="英文">
            <div class="field">
              <label class="label">選單標題</label>
              <p class="control">
                <input class="input" name="lang[en][title]" type="text" placeholder="title">
              </p>
            </div>
            <div class="field">
              <label class="label">標記文字</label>
              <p class="control">
                <input class="input" name="lang[en][badge]" type="text" placeholder="e.g. Hot">
                <!-- badge -->
              </p>
            </div>
            <div class="field">
              <label class="label">選單簡介</label>
              <p class="control">
                <textarea class="textarea" placeholder="Summary" name="lang[en][summary]"></textarea>
              </p>
            </div>
          </div>
        </div>
        <div class="field is-grouped">
          <p class="control">
            <button type="button" class="button is-primary pre-gee" data-gene="click:setRow" data-reset="1">Submit</button>
          </p>
          <p class="control">
            <button type="button" class="button is-link pre-gee" data-gene="click:cancelForm">Cancel</button>
          </p>
        </div>
        <input type="hidden" name="id">
      </form>
    </div>
  </div>
</div>
<script id="menuList" type="text/x-jsrender">
  {{props rows}}
  <li class="sortable-block" data-id="{{:prop.id}}">
    <div class="level">
      <div class="level-left">
        <div class="level-item js-sortable-handle"><i class="fa fa-minus pull-right"></i></div>
        <div class="level-item menu-name">{{:prop.title}}</div>
      </div>
      <div class="level-right">
        <div class="level-item">
          <div class="field has-addons">
            <p class="control">
              <a href="javascript:;" class="button is-info" data-func="loadRow" data-tmpl="menuForm" data-id="{{:prop.id}}"> 編輯 </a>
            </p>
            <p class="control">
              <a href="javascript:;" class="button is-danger" data-func="delRow" data-id="{{:prop.id}}"> 刪除 </a>
            </p>
          </div>
        </div>
      </div>
    </div>
    <ul class="sortable" data-parent="{{:prop.id}}">{{include prop tmpl="#menuList" /}}</ul>
  </li>
  {{/props}}
</script>
